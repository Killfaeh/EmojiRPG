//
//  Views.swift
//  EmojiRPG
//
//  Created by Suisei killfaeh on 28/12/2024.
//

import Foundation

func ğŸ“¨ğŸ‘‰ğŸ–¥ï¸(_ ğŸ’Œ: String, _ ğŸ“¨: String, _ ğŸ§½: Bool)
{
    var ğŸ“¤ = ğŸª‚ + ğŸª‚ + ğŸª‚
    ğŸ“¤ = ğŸ“¤ + ğŸ«¸ğŸ“ğŸ«·(ğŸ’Œ, ğŸ’¨, ğŸ–¥ï¸ğŸ“[0]*2, ğŸ«™, ğŸ«™)
    ğŸ“¤ = ğŸ“¤ + ğŸª‚ + ğŸª‚ + ğŸª‚
    ğŸ“¤ = ğŸ“¤ + ğŸ«¸ğŸ“ğŸ«·(ğŸ“¨, ğŸ’¨, ğŸ–¥ï¸ğŸ“[0]*2, ğŸ«™, ğŸ«™)
    
    if ğŸ§½
    {
        for _ in 8..<ğŸ–¥ï¸ğŸ“[1]
        {
            ğŸ“¤ = ğŸ“¤ + ğŸª‚
        }
    }
    
    ğŸ§½ğŸ–¥ï¸()
    ğŸ§½ğŸ¯()
    ğŸ–¨ï¸(ğŸ“¤, ğŸ«™)
    
    if !ğŸ§½
    {
        ğŸ–¨ï¸(ğŸ«™)
    }
}

class ğŒ®
{
    var ğŸ«µ = 0
    var ğŸ·ï¸ = ğŸ«™
    var ğŸª§ = ğŸ«™
    var ğŸ‘‰ = ğŸ‘
    
    init(_ ğŸ«µ: Int, _ ğŸ·ï¸: String, _ ğŸª§: String)
    {
        self.ğŸ«µ = ğŸ«µ
        self.ğŸ·ï¸ = ğŸ·ï¸
        self.ğŸª§ = ğŸª§
    }
    
    func ğŸ‘‰ğŸ–¥ï¸() -> String
    {
        var ğŸ“¤ = ğŸ’¨ + ğŸ’¨ + ğŸ’¨ + ğŸª§
        
        if ğŸ‘‰ == ğŸ‘
        {
            ğŸ“¤ = "ğŸ‘‰" + ğŸ’¨  + ğŸª§
        }
        
        return ğŸ“¤
    }
}

class ğŸ‘‰ğŸ–¥ï¸
{
    var ğŸ«µ = 0
    var ğŸ·ï¸ = ğŸ«™
    var ğŒ®ğŒ®ğŒ®: [ğŒ®] = []
    
    init(_ ğŸ·ï¸: String, _ ğŒ®ğŒ®: [[String: String]], _ ğŸ‘‰ğŸ·ï¸: String)
    {
        self.ğŸ·ï¸ = ğŸ·ï¸
        
        for ğŸ‘† in 0..<ğŒ®ğŒ®.count
        {
            let ğŸ“ŒğŒ® = ğŒ®(ğŸ‘†, ğŸ—ï¸ğŸ“ğŸ“(ğŒ®ğŒ®[ğŸ‘†], "ğŸ·ï¸"), ğŸ—ï¸ğŸ“ğŸ“(ğŒ®ğŒ®[ğŸ‘†], "ğŸª§"))
            ğŒ®ğŒ®ğŒ®.append(ğŸ“ŒğŒ®)
        }
        
        if ğŒ®ğŒ®ğŒ®.count > 0
        {
            ğŒ®ğŒ®ğŒ®[0].ğŸ‘‰ = ğŸ‘
        }
        
        for ğŸ‘† in 0..<ğŒ®ğŒ®ğŒ®.count
        {
            if ğŒ®ğŒ®ğŒ®[ğŸ‘†].ğŸ·ï¸ == ğŸ‘‰ğŸ·ï¸
            {
                ğŸš«ğŒ®()
                ğŒ®ğŒ®ğŒ®[ğŸ‘†].ğŸ‘‰ = ğŸ‘
                ğŸ«µ = ğŸ‘†
            }
        }
        
        if ğŸ·ï¸ != ğŸ«™
        {
            ğŸ‘‰ğŸ–¥ï¸()
        }
    }
    
    func ğŸ‘‰ğŸ“š(_ ğŸ”‘: UInt8)
    {
        // left : 68, 130
        // right : 67, 131
        // up : 65, 128
        // down : 66, 129
        
        if ğŸ”‘ == 66 || ğŸ”‘ == 129
        {
            ğŸ‘‡ğŒ®()
        }
        else if ğŸ”‘ == 65 || ğŸ”‘ == 128
        {
            ğŸ‘†ğŒ®()
        }
        
        if ğŸ·ï¸ != ğŸ«™
        {
            ğŸ‘‰ğŸ–¥ï¸()
        }
    }
    
    func ğŸš«ğŒ®()
    {
        for ğŸ‘† in 0..<ğŒ®ğŒ®ğŒ®.count
        {
            ğŒ®ğŒ®ğŒ®[ğŸ‘†].ğŸ‘‰ = ğŸ‘
        }
    }
    
    func ğŸ‘‰ğŒ®(_ ğŸ‘‰ğŸ‘†: Int)
    {
        ğŸš«ğŒ®()
        ğŒ®ğŒ®ğŒ®[ğŸ‘‰ğŸ‘†].ğŸ‘‰ = ğŸ‘
    }
    
    func ğŸ‘‡ğŒ®()
    {
        ğŸ«µ += 1
        
        if ğŸ«µ >= ğŒ®ğŒ®ğŒ®.count
        {
            ğŸ«µ = 0
        }
        
        ğŸ‘‰ğŒ®(ğŸ«µ)
    }
    
    func ğŸ‘†ğŒ®()
    {
        ğŸ«µ -= 1
        
        if ğŸ«µ < 0
        {
            ğŸ«µ = ğŒ®ğŒ®ğŒ®.count - 1
        }
        
        ğŸ‘‰ğŒ®(ğŸ«µ)
    }
    
    func ğŸ‘‰ğŸ–¥ï¸()
    {
        var ğŸ“¤ = ğŸ«™
        
        ğŸ“¤ = ğŸ“¤ + ğŸª‚ + ğŸª‚ + ğŸª‚
        ğŸ“¤ = ğŸ“¤ + ğŸ«¸ğŸ“ğŸ«·(ğŸ·ï¸, ğŸ’¨, ğŸ–¥ï¸ğŸ“[0]*2, ğŸ«™, ğŸ«™)
        ğŸ“¤ = ğŸ“¤ + ğŸª‚ + ğŸª‚ + ğŸª‚
        
        for ğŸ‘† in 0..<ğŒ®ğŒ®ğŒ®.count
        {
            ğŸ“¤ = ğŸ“¤ + ğŸ«¸ğŸ“ğŸ«·(ğŒ®ğŒ®ğŒ®[ğŸ‘†].ğŸ‘‰ğŸ–¥ï¸(), ğŸ’¨, ğŸ–¥ï¸ğŸ“[0]*2, ğŸ«™, ğŸ«™).replacingOccurrences(of: ğŸ’¨ + "ğŸ‘‰", with: "ğŸ‘‰") + ğŸª‚
            ğŸ“¤ = ğŸ“¤ + ğŸª‚
        }
        
        let ğŸ“ = 7 + ğŒ®ğŒ®ğŒ®.count*2
        
        for _ in ğŸ“..<ğŸ–¥ï¸ğŸ“[1]
        {
            ğŸ“¤ = ğŸ“¤ + ğŸª‚
        }
        
        ğŸ§½ğŸ–¥ï¸()
        ğŸ§½ğŸ¯()
        ğŸ–¨ï¸(ğŸ“¤, ğŸ«™)
    }
    
    func ğŸ—ï¸() -> String
    {
        var ğŸ“¤ = ğŸ«™
        
        for ğŸ‘† in 0..<ğŒ®ğŒ®ğŒ®.count
        {
            if ğŒ®ğŒ®ğŒ®[ğŸ‘†].ğŸ‘‰ == ğŸ‘
            {
                ğŸ“¤ = ğŒ®ğŒ®ğŒ®[ğŸ‘†].ğŸ·ï¸
            }
        }
        
        return ğŸ“¤
    }
}

class ğŒ®ğŸ‘‰ğŸ–¥ï¸
{
    var ğŸ“ = 4
    var ğŸ«µğŸ“ = 0
    var ğŸ«µğŸ“ = 0
    var ğŸ·ï¸ = ğŸ«™
    var ğŸ‘¥ğŸ‘¥ = ğŸ‘
    var ğŒ®ğŒ®ğŒ®: [ğŒ®] = []
    
    init(_ ğŸ·ï¸: String, _ ğŒ®ğŒ®: [[String: String]], _ ğŸ“: Int, _ ğŸ‘‰ğŸ·ï¸: String, _ ğŸ‘¥ğŸ‘¥: Bool)
    {
        self.ğŸ“ = ğŸ“
        self.ğŸ·ï¸ = ğŸ·ï¸
        self.ğŸ‘¥ğŸ‘¥ = ğŸ‘¥ğŸ‘¥
        
        for ğŸ‘† in 0..<ğŒ®ğŒ®.count
        {
            let ğŸ“ŒğŒ® = ğŒ®(ğŸ‘†, ğŸ—ï¸ğŸ“ğŸ“(ğŒ®ğŒ®[ğŸ‘†], "ğŸ·ï¸"), ğŸ—ï¸ğŸ“ğŸ“(ğŒ®ğŒ®[ğŸ‘†], "ğŸª§"))
            ğŒ®ğŒ®ğŒ®.append(ğŸ“ŒğŒ®)
        }
        
        if ğŒ®ğŒ®ğŒ®.count > 0
        {
            ğŒ®ğŒ®ğŒ®[0].ğŸ‘‰ = ğŸ‘
        }
        
        let ğŸ«µğŸ“ğŸ† = ğŸ“
        let ğŸ«µğŸ“ğŸ† = Int(Double(Double(ğŒ®ğŒ®ğŒ®.count)/Double(ğŸ“)).rounded(.up))
        
        for ğŸ‘† in 0..<ğŸ«µğŸ“ğŸ†
        {
            for ğŸ–• in 0..<ğŸ«µğŸ“ğŸ†
            {
                let ğŒ®ğŒ®ğŒ®ğŸ‘† = ğŸ‘†*ğŸ“ + ğŸ–•
                
                if ğŒ®ğŒ®ğŒ®ğŸ‘† < ğŒ®ğŒ®ğŒ®.count
                {
                    if ğŒ®ğŒ®ğŒ®[ğŒ®ğŒ®ğŒ®ğŸ‘†].ğŸ·ï¸ == ğŸ‘‰ğŸ·ï¸
                    {
                        ğŸš«ğŒ®()
                        ğŒ®ğŒ®ğŒ®[ğŒ®ğŒ®ğŒ®ğŸ‘†].ğŸ‘‰ = ğŸ‘
                        ğŸ«µğŸ“ = ğŸ–•
                        ğŸ«µğŸ“ = ğŸ‘†
                    }
                }
            }
        }
        
        if ğŸ·ï¸ != ğŸ«™
        {
            ğŸ‘‰ğŸ–¥ï¸()
        }
    }
    
    func ğŸ‘‰ğŸ“š(_ ğŸ”‘: UInt8)
    {
        // left : 68, 130
        // right : 67, 131
        // up : 65, 128
        // down : 66, 129
        
        if ğŸ”‘ == 67 || ğŸ”‘ == 131
        {
            ğŸ‘‰ğŒ®()
        }
        else if ğŸ”‘ == 68 || ğŸ”‘ == 130
        {
            ğŸ‘ˆğŒ®()
        }
        else if ğŸ”‘ == 66 || ğŸ”‘ == 129
        {
            ğŸ‘‡ğŒ®()
        }
        else if ğŸ”‘ == 65 || ğŸ”‘ == 128
        {
            ğŸ‘†ğŒ®()
        }
        
        if ğŸ·ï¸ != ğŸ«™
        {
            ğŸ‘‰ğŸ–¥ï¸()
        }
    }
    
    func ğŸš«ğŒ®()
    {
        for ğŸ‘† in 0..<ğŒ®ğŒ®ğŒ®.count
        {
            ğŒ®ğŒ®ğŒ®[ğŸ‘†].ğŸ‘‰ = ğŸ‘
        }
    }
    
    func ğŸ‘‰ğŒ®(_ ğŸ‘‰ğŸ‘†: Int, _ ğŸ‘‰ğŸ–•: Int)
    {
        let ğŒ®ğŒ®ğŒ®ğŸ‘† = ğŸ‘‰ğŸ–•*ğŸ“ + ğŸ‘‰ğŸ‘†
        
        if ğŒ®ğŒ®ğŒ®ğŸ‘† < ğŒ®ğŒ®ğŒ®.count
        {
            ğŸš«ğŒ®()
            ğŒ®ğŒ®ğŒ®[ğŒ®ğŒ®ğŒ®ğŸ‘†].ğŸ‘‰ = ğŸ‘
            ğŸ«µğŸ“ = ğŸ‘‰ğŸ‘†
            ğŸ«µğŸ“ = ğŸ‘‰ğŸ–•
        }
    }
    
    func ğŸ‘‡ğŒ®()
    {
        let ğŸ«µğŸ“ğŸ† = Int(Double(Double(ğŒ®ğŒ®ğŒ®.count)/Double(ğŸ“)).rounded(.up))
        ğŸ«µğŸ“ += 1
        
        let ğŒ®ğŒ®ğŒ®ğŸ‘† = ğŸ«µğŸ“*ğŸ“ + ğŸ«µğŸ“
            
        if ğŒ®ğŒ®ğŒ®ğŸ‘† >= ğŒ®ğŒ®ğŒ®.count
        {
            ğŸ«µğŸ“ += 1
        }
        
        if ğŸ«µğŸ“ >= ğŸ«µğŸ“ğŸ†
        {
            ğŸ«µğŸ“ = 0
        }
        
        ğŸ‘‰ğŒ®(ğŸ«µğŸ“, ğŸ«µğŸ“)
    }
    
    func ğŸ‘†ğŒ®()
    {
        let ğŸ«µğŸ“ğŸ† = Int(Double(Double(ğŒ®ğŒ®ğŒ®.count)/Double(ğŸ“)).rounded(.up))
        ğŸ«µğŸ“ -= 1
        
        if ğŸ«µğŸ“ < 0
        {
            ğŸ«µğŸ“ = ğŸ«µğŸ“ğŸ† - 1
        }
        
        let ğŒ®ğŒ®ğŒ®ğŸ‘† = ğŸ«µğŸ“*ğŸ“ + ğŸ«µğŸ“
            
        if ğŒ®ğŒ®ğŒ®ğŸ‘† >= ğŒ®ğŒ®ğŒ®.count
        {
            ğŸ«µğŸ“ -= 1
        }
        
        ğŸ‘‰ğŒ®(ğŸ«µğŸ“, ğŸ«µğŸ“)
    }
    
    func ğŸ‘‰ğŒ®()
    {
        var ğŸ«µğŸ“ğŸ† = ğŸ“
        let ğŸ«µğŸ“ğŸ† = Int(Double(Double(ğŒ®ğŒ®ğŒ®.count)/Double(ğŸ“)).rounded(.up))
        
        if ğŸ«µğŸ“ >= ğŸ«µğŸ“ğŸ† - 1 && ğŒ®ğŒ®ğŒ®.count%ğŸ“ != 0
        {
            ğŸ«µğŸ“ğŸ† = ğŒ®ğŒ®ğŒ®.count%ğŸ“
        }
        
        ğŸ«µğŸ“ += 1
        
        if ğŸ«µğŸ“ >= ğŸ«µğŸ“ğŸ†
        {
            ğŸ«µğŸ“ = 0
        }
        
        ğŸ‘‰ğŒ®(ğŸ«µğŸ“, ğŸ«µğŸ“)
    }
    
    func ğŸ‘ˆğŒ®()
    {
        var ğŸ«µğŸ“ğŸ† = ğŸ“
        let ğŸ«µğŸ“ğŸ† = Int(Double(Double(ğŒ®ğŒ®ğŒ®.count)/Double(ğŸ“)).rounded(.up))
        
        if ğŸ«µğŸ“ >= ğŸ«µğŸ“ğŸ† - 1 && ğŒ®ğŒ®ğŒ®.count%ğŸ“ != 0
        {
            ğŸ«µğŸ“ğŸ† = ğŒ®ğŒ®ğŒ®.count%ğŸ“
        }
        
        ğŸ«µğŸ“ -= 1
        
        if ğŸ«µğŸ“ < 0
        {
            ğŸ«µğŸ“ = ğŸ«µğŸ“ğŸ† - 1
        }
        
        ğŸ‘‰ğŒ®(ğŸ«µğŸ“, ğŸ«µğŸ“)
    }
    
    func ğŸ‘‰ğŸ–¥ï¸()
    {
        var ğŸ“¤ = ğŸ«™
        
        ğŸ“¤ = ğŸ“¤ + ğŸª‚ + ğŸª‚ + ğŸª‚
        ğŸ“¤ = ğŸ“¤ + ğŸ«¸ğŸ“ğŸ«·(ğŸ·ï¸, ğŸ’¨, ğŸ–¥ï¸ğŸ“[0]*2, ğŸ«™, ğŸ«™)
        ğŸ“¤ = ğŸ“¤ + ğŸª‚ + ğŸª‚ + ğŸª‚
        
        let ğŸ«µğŸ“ğŸ† = ğŸ“
        let ğŸ«µğŸ“ğŸ† = Int(Double(Double(ğŒ®ğŒ®ğŒ®.count)/Double(ğŸ“)).rounded(.up))
        let ğŸ“¤ğŸ–•ğŸ“ = Int((ğŸ–¥ï¸ğŸ“[0]*2 - 20)/ğŸ“)
        
        for ğŸ‘† in 0..<ğŸ«µğŸ“ğŸ†
        {
            var ğŸ“¤ğŸ‘† = ğŸ’¨ + ğŸ’¨
            
            for ğŸ–• in 0..<ğŸ«µğŸ“ğŸ†
            {
                let ğŒ®ğŒ®ğŒ®ğŸ‘† = ğŸ‘†*ğŸ“ + ğŸ–•
                
                if ğŒ®ğŒ®ğŒ®ğŸ‘† < ğŒ®ğŒ®ğŒ®.count
                {
                    var ğŸ“¤ğŸ–• = ğŸ«¸ğŸ“ğŸ«·(ğŒ®ğŒ®ğŒ®[ğŒ®ğŒ®ğŒ®ğŸ‘†].ğŸ‘‰ğŸ–¥ï¸(), ğŸ’¨, ğŸ“¤ğŸ–•ğŸ“, ğŸ«™, ğŸ«™).replacingOccurrences(of: ğŸ’¨ + "ğŸ‘‰", with: "ğŸ‘‰")
                    
                    if ğŸ‘¥ğŸ‘¥ == ğŸ‘
                    {
                        ğŸ“¤ğŸ–• = ğŒ®ğŒ®ğŒ®[ğŒ®ğŒ®ğŒ®ğŸ‘†].ğŸ‘‰ğŸ–¥ï¸()
                    }
                    
                    ğŸ“¤ğŸ‘† = ğŸ“¤ğŸ‘† + ğŸ“¤ğŸ–•
                }
            }
            
            if ğŸ‘¥ğŸ‘¥ == ğŸ‘
            {
                ğŸ“¤ğŸ‘† = ğŸ“ğŸ«·(ğŸ“¤ğŸ‘†, ğŸ’¨, Int(Double(ğŸ–¥ï¸ğŸ“[0] - ğŸ“)/1.5)-1, ğŸ«™, ğŸ«™)
            }
            else
            {
                ğŸ“¤ğŸ‘† = ğŸ«¸ğŸ“ğŸ«·(ğŸ“¤ğŸ‘†, ğŸ’¨, ğŸ–¥ï¸ğŸ“[0]*2, ğŸ«™, ğŸ«™).replacingOccurrences(of: ğŸ’¨ + "ğŸ‘‰", with: "ğŸ‘‰")
            }
            
            ğŸ“¤ğŸ‘† = ğŸ“¤ğŸ‘† + ğŸª‚ + ğŸª‚
            
            ğŸ“¤ = ğŸ“¤ + ğŸ“¤ğŸ‘†
        }
        
        let ğŸ“ = 7 + ğŸ«µğŸ“ğŸ†*2
        
        for _ in ğŸ“..<ğŸ–¥ï¸ğŸ“[1]
        {
            ğŸ“¤ = ğŸ“¤ + ğŸª‚
        }
        
        ğŸ§½ğŸ–¥ï¸()
        ğŸ§½ğŸ¯()
        ğŸ–¨ï¸(ğŸ“¤, ğŸ«™)
    }
    
    func ğŸ—ï¸() -> String
    {
        var ğŸ“¤ = ğŸ«™
        
        for ğŸ‘† in 0..<ğŒ®ğŒ®ğŒ®.count
        {
            if ğŒ®ğŒ®ğŒ®[ğŸ‘†].ğŸ‘‰ == ğŸ‘
            {
                ğŸ“¤ = ğŒ®ğŒ®ğŒ®[ğŸ‘†].ğŸ·ï¸
            }
        }
        
        return ğŸ“¤
    }
}
